<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The salsa crate is a crate for incremental recomputation.  It permits you to define a “database” of queries with both inputs and values derived from those inputs; as you set the inputs, you can re-execute the derived queries and it will try to re-use results from previous invocations as appropriate."><meta name="keywords" content="rust, rustlang, rust-lang, salsa"><title>salsa - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../salsa/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../salsa/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate salsa</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.16.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../salsa/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">salsa</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/salsa/lib.rs.html#1-626">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The salsa crate is a crate for incremental recomputation.  It
permits you to define a “database” of queries with both inputs and
values derived from those inputs; as you set the inputs, you can
re-execute the derived queries and it will try to re-use results
from previous invocations as appropriate.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="debug/index.html" title="salsa::debug mod">debug</a></div><div class="item-right docblock-short"><p>Debugging APIs: these are meant for use when unit-testing or
debugging your application but aren’t ordinarily needed.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CycleError.html" title="salsa::CycleError struct">CycleError</a></div><div class="item-right docblock-short"><p>The error returned when a query could not be resolved due to a cycle</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DatabaseKeyIndex.html" title="salsa::DatabaseKeyIndex struct">DatabaseKeyIndex</a></div><div class="item-right docblock-short"><p>An integer that uniquely identifies a particular query instance within the
database. Used to track dependencies between queries. Fully ordered and
equatable but those orderings are arbitrary, and meant to be used only for
inserting into maps and the like.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Durability.html" title="salsa::Durability struct">Durability</a></div><div class="item-right docblock-short"><p>Describes how likely a value is to change – how “durable” it is.
By default, inputs have <code>Durability::LOW</code> and interned values have
<code>Durability::HIGH</code>. But inputs can be explicitly set with other
durabilities.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Event.html" title="salsa::Event struct">Event</a></div><div class="item-right docblock-short"><p>The <code>Event</code> struct identifies various notable things that can
occur during salsa execution. Instances of this struct are given
to <code>salsa_event</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InternId.html" title="salsa::InternId struct">InternId</a></div><div class="item-right docblock-short"><p>The “raw-id” is used for interned keys in salsa – it is basically
a newtype’d u32. Typically, it is wrapped in a type of your own
devising. For more information about interned keys, see <a href="https://github.com/salsa-rs/salsa-rfcs/pull/2">the
interned key RFC</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryTable.html" title="salsa::QueryTable struct">QueryTable</a></div><div class="item-right docblock-short"><p>Return value from <a href="trait.Database.html#method.query">the <code>query</code> method</a> on <code>Database</code>.
Gives access to various less common operations on queries.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryTableMut.html" title="salsa::QueryTableMut struct">QueryTableMut</a></div><div class="item-right docblock-short"><p>Return value from <a href="trait.Database.html#method.query_mut">the <code>query_mut</code> method</a> on <code>Database</code>.
Gives access to the <code>set</code> method, notably, that is used to
set the value of an input query.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Revision.html" title="salsa::Revision struct">Revision</a></div><div class="item-right docblock-short"><p>A unique identifier for the current version of the database; each
time an input is changed, the revision number is incremented.
<code>Revision</code> is used internally to track which values may need to be
recomputed, but is not something you should have to interact with
directly as a user of salsa.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Runtime.html" title="salsa::Runtime struct">Runtime</a></div><div class="item-right docblock-short"><p>The salsa runtime stores the storage for all queries as well as
tracking the query stack and dependencies between cycles.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuntimeId.html" title="salsa::RuntimeId struct">RuntimeId</a></div><div class="item-right docblock-short"><p>A unique identifier for a particular runtime. Each time you create
a snapshot, a fresh <code>RuntimeId</code> is generated. Once a snapshot is
complete, its <code>RuntimeId</code> may potentially be re-used.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Snapshot.html" title="salsa::Snapshot struct">Snapshot</a></div><div class="item-right docblock-short"><p>Simple wrapper struct that takes ownership of a database <code>DB</code> and
only gives <code>&amp;self</code> access to it. See <a href="trait.ParallelDatabase.html#method.snapshot">the <code>snapshot</code> method</a>
for more details.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Storage.html" title="salsa::Storage struct">Storage</a></div><div class="item-right docblock-short"><p>Stores the cached results and dependency information for all the queries
defined on your salsa database. Also embeds a <a href="struct.Runtime.html" title="Runtime"><code>Runtime</code></a> which is used to
manage query execution. Every database must include a <code>storage: Storage&lt;Self&gt;</code> field.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SweepStrategy.html" title="salsa::SweepStrategy struct">SweepStrategy</a></div><div class="item-right docblock-short"><p>The sweep strategy controls what data we will keep/discard when we
do a GC-sweep. The default (<code>SweepStrategy::default</code>) is a no-op,
use <code>SweepStrategy::discard_outdated</code> constructor or <code>discard_*</code>
and <code>sweep_*</code> builder functions to construct useful strategies.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.EventKind.html" title="salsa::EventKind enum">EventKind</a></div><div class="item-right docblock-short"><p>An enum identifying the various kinds of events that can occur.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Database.html" title="salsa::Database trait">Database</a></div><div class="item-right docblock-short"><p>The base trait which your “query context” must implement. Gives
access to the salsa runtime, which you must embed into your query
context (along with whatever other state you may require).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.InternKey.html" title="salsa::InternKey trait">InternKey</a></div><div class="item-right docblock-short"><p>Trait implemented for the “key” that results from a
<code>#[salsa::intern]</code> query.  This is basically meant to be a
“newtype”’d <code>u32</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ParallelDatabase.html" title="salsa::ParallelDatabase trait">ParallelDatabase</a></div><div class="item-right docblock-short"><p>Indicates a database that also supports parallel query
evaluation. All of Salsa’s base query support is capable of
parallel execution, but for it to work, your query key/value types
must also be <code>Send</code>, as must any additional data in your database.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Query.html" title="salsa::Query trait">Query</a></div><div class="item-right docblock-short"><p>Trait implements by all of the “special types” associated with
each of your queries.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.QueryDb.html" title="salsa::QueryDb trait">QueryDb</a></div><div class="item-right docblock-short"><p>Trait implements by all of the “special types” associated with
each of your queries.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="salsa" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-nightly (b44197abb 2022-09-05)" ></div></body></html>